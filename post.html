<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Data Bags are a Code Smell â€“ Noah Kantrowitz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata:400,700|Montserrat:400,700">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body>
    <header>
      <a href="/" id="header-name">NOAH KANTROWITZ</a>
      <span id="header-icons">
        <a href="/contact.html"><i class="fa fa-envelope-o"></i></a>
        <a href="https://twitter.com/kantrn"><i class="fa fa-twitter"></i></a>
        <a href="https://github.com/coderanger"><i class="fa fa-github"></i></a>
      </span>
    </header>
    <div id="content" class="post">
      <h1 class="post-header">
        <span class="post-title">Data Bags are a Code Smell</span>
        <span class="post-date">February 23, 2014</span>
      </h1>
      <h2>What are Bags?</h2>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi tincidunt
        orci vitae euismod sagittis. In suscipit enim urna, in sollicitudin odio
        tempus in. Pellentesque ac tortor purus. Praesent vehicula enim et
        libero ultrices, sed fringilla lacus sodales. Aliquam turpis ante,
        tincidunt ac viverra eget, aliquet non risus. Cras tellus purus,
        pharetra eget iaculis quis, imperdiet at arcu. Sed ac arcu a orci
        dignissim pharetra sed sed sem.
      </p>
      <div class="highlight"><pre><code class="ruby"><span class="n">search</span><span class="p">(</span><span class="ss">:users</span><span class="p">,</span> <span class="s1">'*:*'</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">u</span><span class="o">|</span>
  <span class="n">user</span> <span class="n">u</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span> <span class="k">do</span>
    <span class="n">comment</span> <span class="n">u</span><span class="o">[</span><span class="s1">'comment'</span><span class="o">]</span>
    <span class="n">supports</span> <span class="n">manage_home</span><span class="p">:</span> <span class="kp">true</span>
  <span class="k">end</span>

  <span class="n">directory</span> <span class="s2">"/home/</span><span class="si">#{</span><span class="n">u</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span><span class="si">}</span><span class="s2">/.ssh"</span> <span class="k">do</span>
    <span class="n">owner</span> <span class="n">u</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span>
  <span class="k">end</span>

  <span class="n">file</span> <span class="s2">"/home/</span><span class="si">#{</span><span class="n">u</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span><span class="si">}</span><span class="s2">/.ssh/authorized_keys"</span> <span class="k">do</span>
    <span class="n">owner</span> <span class="n">u</span><span class="o">[</span><span class="s1">'id'</span><span class="o">]</span>
    <span class="n">mode</span> <span class="s1">'644'</span>
    <span class="n">content</span> <span class="n">u</span><span class="o">[</span><span class="s1">'ssh_keys'</span><span class="o">].</span><span class="n">join</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>
      <p>
        Sed accumsan consequat odio eu condimentum. Nunc a euismod nisl, ac
        feugiat lacus. Duis elementum varius purus. Aenean varius rhoncus justo,
        vitae sollicitudin nulla egestas vitae. Suspendisse et quam eu urna
        fermentum lacinia. Cras vel rhoncus dolor. Etiam est tortor, lobortis
        non leo a, dictum placerat elit. Ut sed nisl purus. Donec posuere ligula
        at ligula placerat, quis tristique felis bibendum. Quisque lacus arcu,
        venenatis sed massa vel, euismod molestie elit. Sed tempor est eu libero
        blandit, eget faucibus quam eleifend. Curabitur rhoncus erat eget lorem
        bibendum, a tincidunt quam porttitor. Aliquam sit amet tortor velit.
        Etiam sollicitudin vitae lectus ut hendrerit. Cras urna nisi, fringilla
        ac enim non, euismod euismod elit. Aliquam erat volutpat.
      </p>
      <p>
        Morbi mollis nisi metus, in pharetra enim laoreet nec. Fusce vel
        ullamcorper quam. Integer facilisis tempor ligula sed congue. Aenean
        convallis, diam lacinia volutpat consequat, quam lacus sollicitudin
        ipsum, vitae egestas mi augue id tellus. Nunc massa lorem, eleifend nec
        lobortis ut, tincidunt ut mauris. Integer sagittis sit amet neque et
        ullamcorper. Duis a ullamcorper ante. Proin sed porttitor lectus, in
        imperdiet felis. Cras tincidunt sapien non massa dapibus tincidunt.
        Donec semper lacus dolor, ullamcorper cursus mauris fermentum sed. Morbi
        dignissim lacinia libero vitae mattis. Vivamus rhoncus viverra aliquam.
        Suspendisse potenti. Nullam porttitor odio consectetur ultricies
        tristique. Aliquam ornare enim quam, eget consectetur eros ultrices ut.
        Nullam ultrices, libero eget congue tristique, velit neque porta justo,
        id mattis turpis tellus dictum mauris.
      </p>
      <h2>So what is the problem?</h2>
      <p>
        Vestibulum ultricies tincidunt nunc vel fermentum. Vestibulum fringilla
        viverra tellus, at volutpat velit vestibulum at. Duis pellentesque
        vehicula eros ut gravida. Sed accumsan, lectus quis lacinia luctus, nisl
        libero aliquet dui, a tempor felis tellus at sapien. Praesent hendrerit
        tellus sed augue vestibulum, sed interdum ante elementum. Cras eleifend
        lorem sit amet sagittis bibendum. Interdum et malesuada fames ac ante
        ipsum primis in faucibus. Quisque tempor neque vitae lorem tincidunt, at
        dignissim nulla pharetra. Vivamus at nibh ultricies, euismod mi ut,
        luctus quam. Nam a consectetur dolor. Nulla enim magna, bibendum quis
        ipsum eget, porta tempor lectus. Mauris sit amet accumsan felis. Fusce
        pharetra sollicitudin molestie. Aenean posuere accumsan accumsan. Cras
        quis nibh sit amet nibh consequat dictum ultricies porttitor tellus. Nam
        placerat interdum erat a tempus.
      </p>
      <p>
        Nam elementum arcu velit, eu aliquam ipsum condimentum quis. Quisque
        vehicula eu mi a eleifend. Ut massa tortor, vestibulum a sapien quis,
        sollicitudin tempus purus. Proin feugiat mi interdum pellentesque
        egestas. Nulla nec dapibus tellus. Mauris volutpat sem quis nulla
        scelerisque cursus. Phasellus scelerisque, ante non scelerisque
        interdum, quam odio hendrerit dolor, non lacinia nisi dolor sit amet
        odio. Praesent eget consequat nisl. Nulla hendrerit egestas est, non
        facilisis est lobortis vel. Vivamus cursus pretium molestie. Aenean
        porttitor urna non odio volutpat, at venenatis est semper. Donec
        ultricies dapibus tortor non ornare. Quisque lobortis velit metus, sed
        eleifend turpis hendrerit eget. Nullam interdum hendrerit dignissim.
        Fusce nec lobortis dolor, at dapibus nibh. Pellentesque laoreet magna
        nunc, vitae ullamcorper lorem suscipit in.
      </p>
    </div>
    <footer>
      <a id="footer-contact" href="/contact.html">Contact</a>
      <span id="footer-copyright">Copyright 2012-2014, Noah Kantrowitz</span>
    </footer>
    <script>
      // (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      // function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      // e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      // e.src='//www.google-analytics.com/analytics.js';
      // r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      // ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>
  </body>
</html>
